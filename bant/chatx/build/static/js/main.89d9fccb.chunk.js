(this.webpackJsonpchatx=this.webpackJsonpchatx||[]).push([[0],{22:function(e,t){var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];String.prototype.lpad=function(e,t){for(var a=this.toString();a.length<t;)a=e+a;return a};var n=function(e){return e<12?{hours:e.toString().lpad("0",2),meridian:"am"}:{hours:(e-12).toString().lpad("0",2),meridian:"pm"}},r=function(e){return"".concat(e,e in[1,21,31]?"st":e in[12,22]?"nd":e in[3,23]?"rd":"th")};e.exports=function(e){var t=(new Date).getDate()-e.getDate(),o=(new Date).getUTCMonth()-e.getUTCMonth(),s=n(e.getHours()),l=s.hours,i=s.meridian;return 1===t&&0===o?"Yesterday ".concat(l,":").concat(e.getMinutes()).concat(i):0===t&&0===o?"".concat(l,":").concat(e.getMinutes()).concat(i):"".concat(a[e.getUTCMonth()]," ").concat(r(e.getDate())," ").concat(e.getFullYear())}},37:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFBklEQVR4nO3bW2gcZRQH8P+ZWXPZjW3farS3bAut+GZanxOlNG4ukqrz0MtLQbBIFRSfXR8EQTGltQUF8aFQcVHXhG1sCbi+J/WtWCHd5tKLQcFLO5tLs3N8sIIU+83MmvN9Bc/v9Tu75+z+SWa+mVlAKaWUUkoppZRSSiml/g9I6o3P5StsWu+vDYj1boareT2JN1XJaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOaQCOSQawYloc3Tn6sGDvVMZ3jK+LKVmW6i0ZwG3TYstKy6OCvVOJ7kSPxZTckuotGcAN4yqtbhfsnQr5FDfLTaneggHwj6bVCCjI9U6t37RIhMtSjQUD8KbM6/RctaeakeufTLWnmiHiIXMVx3yW5okFEHH0bUzJpnA+PCLVP6nFufAlZhiPR8xe3GdpmlgAF69enAIwZ6ohRnEiP7FeaoY45W3lDQy8FVM2O1mb/F5qBrEAiihGRDgTU9a5jOWzJZR8qTnup4SS3+JlzgLYaCxkPlNEMZKaQ3Qj5q1mTgFYMtUQUMjmsydthlBCyc/lcx8C9GxM6ZIfPXRachbRAPpm+26C+eO4OgKOZvPZMRv/jsrbyhtyXdkKwC/HV9NHfbN9YqeggOCzoX8b3zG+jqPoMoDOBOW/MPB+vb0+ElwKjDvptKo91Uw4Hx4hxtsAHknwkoWV6M6u4Znh39ZyjntZeUC2kq/sJ+CLFP2uMzDmgyuNBl3NddTney8Fxp31vapPlDrC29nN8JEn0AARD8Wd7fwDE/H+wpXBr9P0bIa1J5TP5c8dB/g1W/3+o5H+2sDrNhpZuxoa1sI3+K+/ggcaEcbCWv1NW/2sBRAgaHied4iAsq2eTfgK5AUBgoathlbvBxSmC8u3a/UXGTgOwPiDCMsYwEhYqweF6YLYped/4+SGDDF7sHj8SYAAcvNd2GxW3VZtW/TCswwM2+ybFAHl9ih3oHem17h5XEvWUi+h5IdeeOZB/fIBgIHhRT/83OZVWmsB5LraPyDgBVv9msWMoXAufM9WP5sbsS9TvOQawKMgrxI1opmWxZb5fQv7wjQ9L2y8kFtpX9ns+34XczQAYAjApoQv54j4+cErg+JnbOIBTOQn1q9g+QckuxTxM8DvZLd0nOr9rnd1Lecooug9tb37EDO9m3CWBV7F4wNzA7+u5Rz3kr8W1FU5wYRj8ZVcIc8/WJgu/CE6z47xdVEUfUZJbokyn+i/Oii6excN4PzW850Nf7UGoC2m9HRYq79qawNUQsnP5rMnCTgaU7rkNzJ5ySuiogfhKLP6CmK/fK5M1qaO2dx9Bgga9Vr9GAPjMaVtdz+DGMk7Yh4zDptqiHCDPP+g5B2n+wkQNFrRegDAT6Y6Zhwqoij2PYm9cXdX924AW4xFERel/+eb7K3t/R1ExZiyrXvye56UmkEuWfKejim51r6141Op/kllN2c/AXDdVMPgZ6T6Cx4Dot2mVWKU1/pUsxl3Zxg11XiEbqn+ggHQTnNn7xu53unEHYyZsUuqt+RZkPH2X4Mb04K9U/HZj5slycatKZIBdBgX2xdFnzZIoy17y3gMACD2KL1kAC2mxbQ32SUlmKVVqrf+QsYxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDcAxDUAppZRSSimllFJKKaWUBX8C8JR3Wq//IcEAAAAASUVORK5CYII="},42:function(e,t,a){e.exports=a(74)},47:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t){e.exports="data:image/jpeg;base64,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"},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),l=a(8),i=a(9),c=a(12),m=a(11),u=a(15),h=a(2),d=a(14),p=a.n(d),g=(a(47),a(1)),v=(a(48),window.location),b="".concat(v.origin,"/authenticate/"),f=function(e){return{type:"AUTH_SUCCESS",token:e}},E=function(e){return{type:"AUTH_FAIL",error:e}},N=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},y=function(e){return function(t){setTimeout((function(){t(N())}),1e3*e)}},A=a(10),S=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loginEmail:"",loginPassword:"",signUpEmail:"",signUpName:"",signUpPassword1:"",signUpPassword2:""},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("emailErrors"),localStorage.removeItem("passwordErrors");var e=p()("#container"),t=p()("#signUp");p()("#signIn").click((function(t){e.removeClass("right-panel-active")})),t.click((function(t){e.addClass("right-panel-active")}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.id;"loginForm"===t?(this.props.onAuth(this.state.loginEmail,this.state.loginPassword),this.setState({loginPassword:""})):"signupForm"===t&&(this.props.onRegister(this.state.signUpName,this.state.signUpEmail,this.state.signUpPassword1,this.state.signUpPassword2),this.setState({signUpPassword1:""}),this.setState({signUpPassword2:""}))}},{key:"render",value:function(){return r.a.createElement("span",{id:"authbody",className:"authbody"},this.props.isAuthenticated?r.a.createElement(g.a,{push:!0,to:"/chat"}):null,r.a.createElement("main",{className:"authbody container",id:"container"},r.a.createElement("div",{className:"authbody form-container sign-up-container"},r.a.createElement("form",{method:"post",id:"signupForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"authbody"},r.a.createElement("h1",{className:"authbody"},"Create Account"),r.a.createElement("span",{className:"authbody"},"or use your email for registration")),r.a.createElement("div",{style:{color:"#ba2121",width:"100%"},id:"formDiv",className:"authbody"},r.a.createElement("input",{className:"authbody form-control",type:"text",name:"signUpName",placeholder:"John Doe",onChange:this.handleChange,value:this.state.signUpName}),localStorage.getItem("emailErrors")?r.a.createElement("h1",{className:"error"},localStorage.getItem("emailErrors")):null,r.a.createElement("input",{className:"authbody form-control",type:"email",name:"signUpEmail",placeholder:"example@mail.com",onChange:this.handleChange,value:this.state.signUpEmail}),localStorage.getItem("passwordErrors")?r.a.createElement("h1",{className:"error"},localStorage.getItem("passwordErrors")):null,r.a.createElement("input",{className:"authbody form-control",type:"password",name:"signUpPassword1",placeholder:"Password",onChange:this.handleChange,value:this.state.signUpPassword1}),r.a.createElement("input",{className:"authbody form-control",type:"password",name:"signUpPassword2",placeholder:"Confirm Password",onChange:this.handleChange,value:this.state.signUpPassword2})),r.a.createElement("button",{type:"submit",id:"signupBtn",className:"authbody"},"Sign Up"))),r.a.createElement("div",{className:"authbody form-container sign-in-container"},r.a.createElement("form",{method:"get",id:"loginForm",className:"authbody",onSubmit:this.handleSubmit},r.a.createElement("h1",{className:"authbody"},"Sign in"),r.a.createElement("span",{className:"authbody"},"or use your account"),"Unable to log in with provided credentials."===this.props.error?r.a.createElement("h1",{className:"error",style:{color:"red"}},"Invalid Username or Password"):null,r.a.createElement("input",{className:"authbody form-control",type:"email",name:"loginEmail",placeholder:"Email",onChange:this.handleChange,value:this.state.loginEmail}),r.a.createElement("input",{className:"authbody form-control",type:"password",name:"loginPassword",placeholder:"Password",onChange:this.handleChange,value:this.state.loginPassword}),r.a.createElement("a",{href:"resetPassword",className:"authbody"},"Forgot your password?"),r.a.createElement("button",{type:"submit",id:"loginBtn",className:"authbody"},"Sign In"))),r.a.createElement("div",{className:"authbody overlay-container"},r.a.createElement("div",{className:"authbody overlay"},r.a.createElement("div",{className:"authbody overlay-panel overlay-left right-panel-active"},r.a.createElement("h1",{className:"authbody"},"Welcome Back!"),r.a.createElement("p",{className:"authbody"},"To keep connected with us please login with your personal info"),r.a.createElement("button",{className:"authbody ghost",id:"signIn"},"Sign In")),r.a.createElement("div",{className:"authbody overlay-panel overlay-right"},r.a.createElement("h1",{className:"authbody"},"Hello, Friend!"),r.a.createElement("p",{className:"authbody"},"Enter your personal details and start journey with us"),r.a.createElement("button",{className:"authbody ghost",id:"signUp"},"Sign Up"))))),r.a.createElement("footer",{className:"authbody"},r.a.createElement("p",{className:"authbody"},"Template Created by",r.a.createElement("a",{className:"authbody",target:"_blank",href:"https://florin-pop.com",rel:"noopener noreferrer"},"Florin Pop"),"- Read how I created this and how you can join the challenge",r.a.createElement("a",{className:"authbody",target:"_blank",href:"https://www.florin-pop.com/blog/2019/03/double-slider-sign-in-up-form/",rel:"noopener noreferrer"},"here"),".")))}}]),a}(n.Component),k=Object(g.g)(Object(A.b)((function(e){var t=e.error?e.error.toString().split(": ")[1]:e.error;return{loading:e.loading,error:t}}),(function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){var t=e[0],n=t?JSON.parse(t).non_field_errors:null;if(n)throw Error(n);var r=e.token;if(r){var o=new Date((new Date).getTime()+864e5);localStorage.setItem("token",r),localStorage.setItem("expirationDate",o),a(f(r)),a(y(86400))}})).catch((function(e){a(E(e))}))}}(t,a))},onRegister:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password1:a,password2:n})}).then((function(e){return e.json()})).then((function(e){var t=e.email,a=e.password;if(t||a)throw localStorage.setItem("emailErrors",t),localStorage.setItem("passwordErrors",a),Error("Bad Input");var n=e.token;if(n){localStorage.removeItem("emailErrors"),localStorage.removeItem("passwordErrors");var o=new Date((new Date).getTime()+864e5);localStorage.setItem("token",n),localStorage.setItem("expirationDate",o),r(f(n)),r(y(86400))}})).catch((function(e){r(E(e))}))}}(t,a,n,r))}}}))(S)),C=(a(71),function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={searchKey:""},a.handleLogout=a.handleLogout.bind(Object(h.a)(a)),a.handleClear=a.handleClear.bind(Object(h.a)(a)),a.handleSearch=a.handleSearch.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(i.a)(n,[{key:"handleLogout",value:function(e){e.preventDefault(),this.props.logout()}},{key:"handleClear",value:function(e){e.preventDefault(),this.props.clear()}},{key:"handleSearch",value:function(e){var t=e.target.value;this.setState({searchKey:t}),this.props.search(t)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.search(this.state.searchKey)}},{key:"profile",value:function(){return r.a.createElement(g.a,{push:!0,to:"/chat"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"row",id:"NavBar"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light col-12"},r.a.createElement("a",{className:"navbar-brand",href:"logo"},r.a.createElement("img",{src:a(37),alt:"logo",id:"logo"}),"ChatX"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:this.handleSubmit},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",value:this.state.searchKey,onChange:this.handleSearch}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search")),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link btn btn-primary",href:"clear",onClick:this.handleClear,style:{color:"yellow"}},"Clear")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link btn btn-light",href:"logout",onClick:this.handleLogout},"Logout")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link btn btn-primary",href:"profile",style:{color:"yellow"}},"Profile"))))))}}]),n}(n.Component)),w=Object(g.g)(C),O=a(22);var j=function(e){var t=e.props,a="".concat(t.pic_url);return r.a.createElement("div",{className:"row incoming msg-holder mb-2"},r.a.createElement("div",{className:"msg-toon-holder"},r.a.createElement("img",{src:a,alt:"toon-img",className:"msg-toon rounded-circle"})),r.a.createElement("div",{className:"text-holder"},r.a.createElement("p",{className:"rounded-lg"},t.memo,r.a.createElement("br",null),r.a.createElement("span",{className:"message-time"},O(t.date)))))},x=a(22);var U=function(e){var t=e.props,a="".concat(t.pic_url);return r.a.createElement("div",{className:"row outgoing msg-holder mb-2 justify-content-end ml-auto"},r.a.createElement("div",{className:"text-holder"},r.a.createElement("p",{className:"rounded-left"},t.memo,r.a.createElement("br",null),r.a.createElement("span",{className:"message-time"},x(t.date)))),r.a.createElement("div",{className:"msg-toon-holder"},r.a.createElement("img",{src:a,alt:"toon-img",className:"msg-toon rounded-circle"})))},D=a(22);var I=function(e){var t,a=e.props,n="".concat(a.pic_url);return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:a.name,className:"row conversation",id:a.name,onClick:function(e){e.preventDefault();var t=e.target.id;a.select(t)}},r.a.createElement("div",{className:"toon-holder"},r.a.createElement("img",{src:n,alt:"toon-img",className:"toon rounded-circle"}),r.a.createElement("div",{className:"status-icon rounded-circle",style:(t=a.status,t?{backgroundColor:"#0dcd36"}:{backgroundColor:"red"})})),r.a.createElement("div",{className:"message-info-holder"},r.a.createElement("p",{className:"message-info"},r.a.createElement("span",{className:"row"},r.a.createElement("b",{className:"col-8"},a.email)),r.a.createElement("span",{className:"row"},r.a.createElement("span",{className:"col"},D(a.date)))))),r.a.createElement("hr",null))};var M=function(e){var t=e.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:t.email,className:"row conversation",id:t.email,onClick:function(e){e.preventDefault();var a=e.target.id;t.select(a)}},r.a.createElement("div",{className:"toon-holder"},r.a.createElement("img",{src:t.pic_url,alt:"toon-img",className:"toon rounded-circle"})),r.a.createElement("div",{className:"message-info-holder"},r.a.createElement("p",{className:"message-info"},r.a.createElement("span",{className:"row"},r.a.createElement("b",{className:"col-8"},t.contact),r.a.createElement("span",{className:"row"},r.a.createElement("span",{className:"col"},t.email)))))),r.a.createElement("hr",null))},R=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a),(e=t.call(this)).state={user:"",profilePicUrl:"",roomNames:[],rooms:{},activeRoom:"",memo:"",typing:!1,chats:[],search:[],searchItem:"",sub:!0};window.location;return e.user_url="/authenticate/",e.rooms_url="/rooms/",e.chats_url="/chats/",e._isMounted=!1,e.logout=e.logout.bind(Object(h.a)(e)),e.clear=e.clear.bind(Object(h.a)(e)),e.search=e.search.bind(Object(h.a)(e)),e.fetchUser=e.fetchUser.bind(Object(h.a)(e)),e.fetchConversations=e.fetchConversations.bind(Object(h.a)(e)),e.makeConversation=e.makeConversation.bind(Object(h.a)(e)),e.selectConversation=e.selectConversation.bind(Object(h.a)(e)),e.selectSearchItem=e.selectSearchItem.bind(Object(h.a)(e)),e.makeChat=e.makeChat.bind(Object(h.a)(e)),e.fetchChats=e.fetchChats.bind(Object(h.a)(e)),e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.addChat=e.addChat.bind(Object(h.a)(e)),e}return Object(i.a)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1;var e=new Date;localStorage.setItem("unmount_time",e)}},{key:"componentDidMount",value:function(){(new Date).getTime()-new Date(localStorage.getItem("unmount_time")).getTime()>18e6&&this.logout(),this._isMounted=!0,this._isMounted&&(this.fetchConversations(),this.fetchUser())}},{key:"componentDidUpdate",value:function(e,t,a){var n=p()("#messageSpace");n.animate({scrollTop:n.get(0).scrollHeight},10)}},{key:"logout",value:function(){this.props.socket.send(JSON.stringify({type:"auth",user:this.state.user,room_names:this.state.roomNames})),this.props.onLogout()}},{key:"clear",value:function(){this.setState({activeRoom:""}),this.setState({chats:[]}),this.setState({memo:""}),this.setState({search:[]}),this.setState({searchItem:""})}},{key:"search",value:function(e){this.clear(),this.props.socket.send(JSON.stringify({type:"search",user:this.state.user,key:e}))}},{key:"profile",value:function(e){e.preventDefault()}},{key:"handelError",value:function(e){if(!e.ok)throw Error(e.statusText);return e.json()}},{key:"fetchConversations",value:function(){var e=this;fetch(this.rooms_url,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(t){var a=t.rooms,n=[],r={};for(var o in a){var s=a[o],l=s.roomName1;n.push(l),r[l]=s}e._isMounted&&(e.setState({user:t.user}),e.setState({roomNames:n}),e.setState({rooms:r}),e.props.socket.send(JSON.stringify({type:"sub",room_names:n,email:t.user})))})).catch((function(e){console.log(e)}))}},{key:"handleErr",value:function(e){if(400===e.status)throw Error(e.statusText);return e.json()}},{key:"fetchUser",value:function(){var e=this;fetch(this.user_url,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(this.handleErr).then((function(t){e._isMounted&&e.setState({profilePicUrl:t.profile_pic,email:t.email})})).catch((function(e){return console.log(e)}))}},{key:"fetchChats",value:function(e){var t=this;fetch(this.chats_url+"".concat(e,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){var a=e,n=[];for(var r in a)n.push(a[r]);t._isMounted&&t.setState({chats:n})})).catch((function(e){console.log(e)}))}},{key:"makeConversation",value:function(e){var t=this.state.rooms[e];if(console.log(t),t){var a=new Date(t.date),n={name:e,email:t.other_email,contact:t.other_name,status:t.other_status,pic_url:t.other_profilepic,select:this.selectConversation,date:a};return r.a.createElement("span",{key:e},r.a.createElement(I,{props:n}))}}},{key:"selectConversation",value:function(e){this.fetchChats(e),this.setState({activeRoom:e})}},{key:"makeChat",value:function(e){var t=new Date(e.date),a=null;try{a=this.state.rooms[this.state.activeRoom].other_profilepic}catch(s){console.log(s)}if(e.User===this.state.user){var n={memo:e.memo,date:t,pic_url:this.state.profilePicUrl};return r.a.createElement("span",{key:e.id},r.a.createElement(U,{props:n}))}var o={memo:e.memo,date:t,pic_url:a};return r.a.createElement("span",{key:e.id},r.a.createElement(j,{props:o}))}},{key:"makeSearchItem",value:function(e){var t={email:e.email,contact:e.name,pic_url:e.pic_url,select:this.selectSearchItem};return r.a.createElement("span",{key:e.email},r.a.createElement(M,{props:t}))}},{key:"selectSearchItem",value:function(e){for(var t in this.state.rooms)this.state.rooms[t].other_email===e&&(this.fetchChats(t),this.setState({activeRoom:t}));this.setState({searchItem:e})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.state.memo.length>0){var a=t.state.activeRoom&&t.state.activeRoom in t.state.rooms?this.state.rooms[this.state.activeRoom].other_email:this.state.searchItem,n=this.state.activeRoom||this.state.searchItem,r={type:"message",User:this.state.user,Receiver:a,room_name:n,memo:this.state.memo,new:!this.activeRoom||""};this.props.socket.send(JSON.stringify(r)),this.setState({memo:""})}this.setState({search:[]}),this.setState({searchItem:""})}},{key:"addChat",value:function(e){var t=this.state.chats;t.push(e),this.setState({chats:t});p()("#messageSpace")}},{key:"sub",value:function(){this.props.socket.send(JSON.stringify({type:"sub",room_names:this.state.roomNames,email:this.state.user}))}},{key:"render",value:function(){var e=this;return this.state.sub&&(this.sub(),this.setState({sub:!1})),this.props.socket.onmessage=function(t){var a=JSON.parse(t.data),n=a.custom_type;if("message"===n){var r=a.residentRoom;r in e.state.rooms?(e.addChat(a),e.setState({activeRoom:r})):a.User===e.state.user&&(e.fetchChats(r),e.setState({activeRoom:r}))}else if("search"===n){var o=a.matches;e.setState({search:o})}e.fetchConversations(),e.sub()},r.a.createElement("div",{className:"chat-body",id:"chatBody"},this.props.isAuthenticated?null:r.a.createElement(g.a,{push:!0,to:"/auth"}),r.a.createElement("main",{className:"main",id:"main"},r.a.createElement("div",{id:"chat-box",className:"container .rounded"},r.a.createElement(w,{logout:this.logout,clear:this.clear,search:this.search,serachKey:this.state.searchKey}),r.a.createElement("div",{className:"row",style:{height:"100%"}},r.a.createElement("div",{id:"chatList",className:"col-3 hidden-md"},r.a.createElement("div",{className:"row mb-3 mt-2"},r.a.createElement("h3",{className:"m-auto"},this.state.activeRoom in this.state.rooms?this.state.rooms[this.state.activeRoom].other_email:"Messages")),this.state.roomNames.length>0||this.state.search.length>0?!this.state.search.length>0?this.state.roomNames.map((function(t){return e.makeConversation(t)})):this.state.search.map((function(t){return e.makeSearchItem(t)})):null),r.a.createElement("div",{id:"currentChat",className:"col-9"},r.a.createElement("div",{id:"messageSpace"},this.state.activeRoom?this.state.chats.map((function(t){return e.makeChat(t)})):null),this.state.activeRoom.length>0||this.state.searchItem.length>0?r.a.createElement("div",{className:"row",id:"formHolder"},r.a.createElement("form",{className:"form-inline",id:"messageForm",onSubmit:this.handleSubmit},r.a.createElement("textarea",{className:"form-control",placeholder:"New Message...",id:"memo",name:"memo",cols:"52",rows:"1","aria-label":"New Message",value:this.state.memo,onChange:this.handleChange}),r.a.createElement("button",{type:"submit",className:"btn btn-success",id:"msgBtn"},r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-paper-plane fa-2x","aria-hidden":"true"}))))):null)))))}}]),a}(n.Component),P=Object(g.g)(Object(A.b)((function(e){return{}}),(function(e){return{onLogout:function(){return e(N())}}}))(R)),T=(a(72),function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={loggedin:null,view:"read",profilePicUrl:"",coverUrl:"url(".concat(a(73),")"),name:"",email:"",phone:"",age:"",gender:"",address:"",profilePicUpload:null,profilePicExtension:"",backup:{},changing:!1},r.dev=!1,r.user_url="/authenticate/",r._isMounted=!1,r.setView=r.setView.bind(Object(h.a)(r)),r.onChange=r.onChange.bind(Object(h.a)(r)),r.back=r.back.bind(Object(h.a)(r)),r.save=r.save.bind(Object(h.a)(r)),r.fetchUser=r.fetchUser.bind(Object(h.a)(r)),r.handleErr=r.handleErr.bind(Object(h.a)(r)),r.profilPicUpload=r.profilPicUpload.bind(Object(h.a)(r)),r.getFile=r.getFile.bind(Object(h.a)(r)),r.socketSend=r.socketSend.bind(Object(h.a)(r)),r.ensureProfilePic=r.ensureProfilePic.bind(Object(h.a)(r)),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.fetchUser()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleErr",value:function(e){if(400===e.status)throw this.setState({loggedin:!1}),Error(e.statusText);return e.json()}},{key:"fetchUser",value:function(){var e=this;fetch(this.user_url,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(this.handleErr).then((function(t){e._isMounted&&e.setState({profilePicUrl:"".concat(t.profile_pic),coverUrl:"".concat(t.cover_pic),name:t.name,email:t.email,age:t.age?t.age:"",gender:t.gender?t.gender:"",phone:t.phone?t.phone:"",address:t.address?t.address:""})})).catch((function(e){return console.log(e)}))}},{key:"back",value:function(e){"edit"===this.state.view&&(e.preventDefault(),this.setState(this.state.backup),this.setState({view:"read"}))}},{key:"setView",value:function(e){e.preventDefault(),"read"===this.state.view?this.setState({view:"edit"}):(this.save(),this.setState({view:"read"})),this.setState({changing:!1})}},{key:"onChange",value:function(e){this.state.changing||this.setState({backup:this.state,changing:!0});var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"ensureProfilePic",value:function(){var e=this;if(this.state.profilePicUpload)return!0;setTimeout((function(){e.socketSend()}),500)}},{key:"save",value:function(){this.socketSend()}},{key:"socketSend",value:function(){this.ensureProfilePic()&&(this.props.socket.send(JSON.stringify({type:"profile",user:this.state.user,data:this.state,token:localStorage.getItem("token"),picUpload:this.state.profilePicUpload.result})),this.setState({profilePicUpload:null,profilePicExtension:""}))}},{key:"getFile",value:function(){this.state.changing||this.setState({backup:this.state,changing:!0});for(var e,t=document.getElementById("profileUpload").files,a={binary:["image/png","image/jpeg","image/jpg"],text:["text/plain","text/css","application/xml","text/html"]},n=0;n<t.length;n++)if(null!==(e=t[n])){this.setState({profilePicExtension:/[.]/.exec(e.name)[0]?/[^.]+$/.exec(e.name)[0]:void 0});var r=URL.createObjectURL(e);this.setState({profilePicUrl:r});var o=new FileReader;a.binary.indexOf(e.type)>-1?(o.readAsDataURL(e),this.setState({profilePicUpload:o})):a.text.indexOf(e.type)>-1?(o.readAsArrayBuffer(e),this.setState({profilePicUpload:o})):this.setState({profilePicUpload:"nothing"})}}},{key:"profilPicUpload",value:function(e){p()("#profileUpload").click()}},{key:"render",value:function(){var e=this;return this.props.socket.onmessage=function(t){"profile"===JSON.parse(t.data).custom_type&&e.fetchUser()},r.a.createElement("span",{id:"profile"},!1===this.state.loggedin?r.a.createElement(g.a,{push:!0,to:"/auth"}):null,r.a.createElement("main",null,r.a.createElement("div",{id:"chat-box",className:"container .rounded"},r.a.createElement("div",{className:"row",id:"NavBar"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light col-12"},r.a.createElement("a",{className:"navbar-brand",href:"."},r.a.createElement("img",{src:a(37),alt:"logo",id:"logo"}),"ChatX"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item",onClick:this.back},r.a.createElement("a",{className:"nav-link btn btn-primary",href:"/chat",style:{color:"yellow"}},"Back")),r.a.createElement("li",{className:"nav-item",onClick:this.setView},r.a.createElement("a",{className:"nav-link btn btn-primary",href:"view",style:{color:"yellow"}},"read"===this.state.view?"Edit":"Save")))))),r.a.createElement("div",{className:"row",style:{height:"100%",backgroundColor:"#d4e4ec",overflow:"scroll"}},r.a.createElement("div",{className:"col"},r.a.createElement("div",null,r.a.createElement("div",{id:"cover",className:"row justify-content-center",style:{backgroundColor:"red",backgroundImage:this.state.coverUrl}},r.a.createElement("div",{className:"imgHolder",id:"profileImg"},r.a.createElement("img",{src:this.state.profilePicUrl,alt:"profile pic",className:"rounded-circle"}),"read"===this.state.view?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"file",className:"rounded-circle",onClick:this.profilPicUpload},r.a.createElement("i",{className:"fa fa-camera fa-2x"})),r.a.createElement("input",{id:"profileUpload",type:"file",hidden:!0,onChange:function(){e.getFile()}}))))),r.a.createElement("div",{id:"infoHolder",className:"row mt-4 mb-1 ml-auto"},r.a.createElement("div",{className:"col info-holder"},"read"===this.state.view?r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"namelbl",className:"input-group-text"},"Name:")),r.a.createElement("input",{readOnly:!0,onChange:this.onChange,type:"text","aria-describedby":"namelbl",value:this.state.name,name:"name",className:"form-control"})):r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"namelbl",className:"input-group-text"},"Name:")),r.a.createElement("input",{type:"text","aria-describedby":"namelbl",onChange:this.onChange,placeholder:"Name",name:"name",value:this.state.name}))),r.a.createElement("div",{className:"col info-holder"},"read"===this.state.view?r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"emaillbl",className:"input-group-text"},"Email:")),r.a.createElement("input",{readOnly:!0,onChange:this.onChange,type:"text","aria-describedby":"emaillbl",value:this.state.email,name:"email",className:"form-control"})):r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"emaillbl",className:"input-group-text"},"Email:")),r.a.createElement("input",{onChange:this.onChange,type:"text",placeholder:"example@mail.com","aria-describedby":"emaillbl",value:this.state.email,name:"email"})))),r.a.createElement("div",{className:"row mt-4 mb-1 ml-auto"},r.a.createElement("div",{className:"col info-holder"},"read"===this.state.view?r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"agelbl",className:"input-group-text"},"Age:")),r.a.createElement("input",{readOnly:!0,onChange:this.onChange,type:"text","aria-describedby":"agelbl",value:this.state.age,name:"age",className:"form-control"})):r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"agelbl",className:"input-group-text"},"Age:")),r.a.createElement("input",{type:"text","aria-describedby":"agelbl",onChange:this.onChange,placeholder:"XXX",name:"age",value:this.state.age}))),r.a.createElement("div",{className:"col"},"read"===this.state.view?r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"genderlbl",className:"input-group-text"},"Gender:")),r.a.createElement("input",{readOnly:!0,onChange:this.onChange,type:"text","aria-describedby":"genderlbl",value:this.state.gender,name:"gender",className:"form-control"})):r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"genderlbl",className:"input-group-text"},"Gender:")),r.a.createElement("input",{type:"text","aria-describedby":"genderlbl",onChange:this.onChange,placeholder:"???",name:"gender",value:this.state.gender})))),r.a.createElement("div",{className:"row mt-4 mb-1 ml-auto"},r.a.createElement("div",{className:"col info-holder"},"read"===this.state.view?r.a.createElement("div",{className:"input-group col-5",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"phonelbl",className:"input-group-text"},"Phone No:")),r.a.createElement("input",{readOnly:!0,onChange:this.onChange,type:"text","aria-describedby":"phonelbl",value:this.state.phone,name:"phone",className:"form-control"})):r.a.createElement("div",{className:"input-group col",style:{width:"auto"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"phonelbl",className:"input-group-text"},"Phone No:")),r.a.createElement("input",{type:"text","aria-describedby":"phonelbl",onChange:this.onChange,placeholder:"(XXX)-XXX-XXXX",name:"phone",value:this.state.phone})))),r.a.createElement("div",{className:"row mt-4 mb-1 ml-auto"},"read"===this.state.view?r.a.createElement("div",{className:"input-group col-12"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"addresslbl",className:"input-group-text"},"Address:")),r.a.createElement("textarea",{readOnly:!0,onChange:this.onChange,"aria-describedby":"addresslbl",value:this.state.address,style:{width:"80%"},name:"address",className:"form-control"})):r.a.createElement("div",{className:"input-group col-12"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("b",{id:"addresslbl",className:"input-group-text"},"Address:")),r.a.createElement("textarea",{"aria-describedby":"addresslbl",onChange:this.onChange,placeholder:"Some address somewhere in the world that I don't know. I also don't really want to know and don't care to know",style:{width:"80%"},name:"address",value:this.state.address}))))))))}}]),n}(n.Component)),Q=Object(g.g)(Object(A.b)((function(e){return{}}),(function(e){return{}}))(T)),H=a(39),B=a(40),W=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.socket;return e.onopen=function(e){console.log("socket open")},e.onclose=function(e){console.log("socket close")},e.onerror=function(e){console.log(e)},r.a.createElement(B.a,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/chat"},r.a.createElement(P,this.props)),r.a.createElement(g.b,{exact:!0,path:"/auth"},r.a.createElement(k,this.props)),r.a.createElement(g.b,{exact:!0,path:"/profile"},r.a.createElement(Q,this.props))))}}]),a}(n.Component),F=Object(A.b)((function(e){var t=window.location,a="http:"===t.protocol?"ws:":"wss:",n="".concat(a,"//").concat(t.host,":443/ws/");return{socket:new H.a(n)}}),null)(W),K=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignup()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(F,this.props))}}]),a}(n.Component),q=Object(A.b)((function(e){return{isAuthenticated:null!==e.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(void 0===t)e(N());else{var a=new Date(localStorage.getItem("expirationDate"));a<=new Date?e(N()):(e(f(t)),e(y((a.getTime()-(new Date).getTime())/1e3)))}}))}}}))(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(17),V=a(41),X=a(26),G=function(e,t){return Object(X.a)(Object(X.a)({},e),t)},Y={token:null,error:null,loading:!1},Z=function(e,t){return G(e,{error:null,loading:!0})},L=function(e,t){return G(e,{token:t.token,error:null,loading:!1})},z=function(e,t){return G(e,{error:t.error,loading:!1})},_=function(e,t){return G(e,{token:null})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Z(e);case"AUTH_SUCCESS":return L(e,t);case"AUTH_FAIL":return z(e,t);case"AUTH_LOGOUT":return _(e);default:return e}},ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.c,te=Object(J.d)($,ee(Object(J.a)(V.a))),ae=r.a.createElement(A.a,{store:te},r.a.createElement(q,null));s.a.render(ae,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.89d9fccb.chunk.js.map